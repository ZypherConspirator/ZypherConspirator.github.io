// gallery
.gal 
{
	position: relative;
    -webkit-column-count: 3;
    -moz-column-count: 3;
    column-count: 3;
    @media (max-width: 500px) 
    {
        -webkit-column-count: 1;
        -moz-column-count: 1;
        column-count: 1;
    }
	img , canvas
    { 
		transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, transform .05s ease-in-out;
        width: 100%; 
        object-fit: cover;
		filter: drop-shadow(0 3mm 4mm rgba(31, 31, 31, 0.8));
    }
    .corner 
    {
        display: none;
        user-select: none;
        font-size: 12px;
        margin: 0;
        padding: 0 4%;
		box-shadow: inset 4px 4px white, inset -4px -4px white;
		background-color: white;
		color: darkgrey;
		z-index: 1000;
	}
	.bottom 
    {
        display: none;
        user-select: none;
        font-size: 14px;
        margin: 0;
        padding: 0 4%;
		box-shadow: inset 4px 4px white, inset -4px -4px white;
		background-color: white;
		color: darkgrey;
		z-index: 510;
	}
	.gal-wrap
	{
		position: relative;
		&:hover 
		{
			img , canvas
			{
				transform: scale(1.1);
				outline: white solid 4px ;
				z-index: 500;
			}
			.corner 
			{   
				text-shadow: none;
				display: inline-block;
				position: absolute;
				top: 8px;
				left: 0px;
			}
			.bottom 
			{
				text-shadow: none;
				display: inline-block;
				position: absolute;
				bottom: 8px;
				right: 0px;
			}
		}
	}
}

.gal-carousel {
    .carousel-inner {
        overflow: visible; 
    }
    .gal-carousel-dummy {
    aspect-ratio: 1 / 1; // Match the aspect ratio of your real items
    pointer-events: none; // Ensure users can't click/hover "nothing"
}

    .gal-carousel-wrap {
        position: relative;

        canvas, img {
            width: 100%;
            display: block;
            object-fit: cover;
            
            // Desktop: Square
            aspect-ratio: 1 / 1; 
            
            // Mobile: Wider rectangle so the stack doesn't get too long
            @media (max-width: 768px) {
                aspect-ratio: 16 / 9;
            }
            
            transition: transform 0.2s ease-in-out, outline 0.1s ease-in-out;
            filter: drop-shadow(0 2mm 3mm rgba(0, 0, 0, 0.3));
        }
                // Shared Label Styles
        .gal-label-corner, 
        .gal-label-bottom {
            display: none;
            user-select: none;
            font-size: 12px;
            padding: 2px 8px;
            background-color: white;
            color: darkgrey;
            box-shadow: inset 2px 2px white, inset -2px -2px white;
            z-index: 1000;
            position: absolute;
        }

        &:hover {
            z-index: 500;
            @media (min-width: 769px) { // Only scale on desktop
                canvas, img {
                    transform: scale(1.05);
                    outline: white solid 4px;
                }
            }
            .gal-label-corner {
                display: inline-block;
                top: 8px;
                left: -4px; // Slight offset for visual pop
            }

            .gal-label-bottom {
                display: inline-block;
                bottom: 8px;
                right: -4px;
                font-size: 14px;
            }
        }
    }
    // Adjust arrow visibility/styling
    .carousel-control-prev, .carousel-control-next {
        width: 40px;
        opacity: 0.8;
         z-index: 2000;
        &:hover { opacity: 1; }
        .carousel-control-prev-icon, .carousel-control-next-icon {
            filter: invert(1);
        }
    }
}