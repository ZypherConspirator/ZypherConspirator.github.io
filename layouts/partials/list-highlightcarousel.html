{{ if isset .Site.Params "highlight" }}
<div id="carouselExampleCaptions" class="carousel slide p-0" data-bs-ride="carousel">
    
    <!-- Carousel Indicators -->
    <div class="carousel-indicators">
        {{ range $index, $highlight := sort .Site.Params.highlight "key" }}
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="{{ $index }}" {{ if eq $index 0 }}class="active"{{ end }} aria-label="Slide {{ add $index 1 }}"></button>
        {{ end }}
    </div>

    <!-- Carousel Inner -->
    <div class="carousel-inner">
        {{ range $index, $highlight := sort .Site.Params.highlight "key" }}
            {{ $post := site.GetPage .page }}
            {{ with $post }}
            <div class="carousel-item {{ if eq $index 0 }}active{{ end }}">
                <div class="pickgradient">
                    <img src="{{ .Params.image }}" style="object-fit: cover; object-position: center; max-height:400px;" width="600px" height="400px" class="d-block w-100 " alt="{{ .Title }}">
                </div>
                <span class="p-2 carousel-caption ">
                    {{ $Permalink := .Permalink }}
                    {{ range .Params.tags }} 
                        {{ if ne . "Coming Soon" }} 
                        <a class="postListLink" href="{{ $Permalink }}">
                        {{ else }} 
                        <a class="postListLink" href="">
                        {{ end }}
                    {{ end }}
                        <h5 style="text-shadow: 2px 2px 4px #000000;">{{ .Title }}</h5>
                        {{ if .Description}}
                        <p>{{.Description}}</p>
                        {{ end }}
                        <p class="d-none d-md-block">{{ .Summary | truncate 80 }}</p>
                    </a>
                </span>
            </div>
            {{ end }}
        {{ end }}
    </div>

    <!-- Carousel Controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
{{ end }}